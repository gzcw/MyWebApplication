  @*-------------------------------------------------------------------【WF_GENERWORKFLOW】Form-------------------------------------------------------------------*@@{    Layout = "~/Views/Shared/_FormLayout.cshtml";}<form id="GenerWorkflow_form" class="myform" method="post"><div style="margin-bottom: 10px;">    <a class="easyui-linkbutton" data-options="iconCls:'icon-save'" style="margin-left: 10px;" onclick="save();">保存</a>    <a class="easyui-linkbutton" data-options="iconCls:'icon-undo'" onclick="reset();">重置</a>    <a class="easyui-linkbutton" data-options="iconCls:'icon-remove',permission:0" onclick="cancel();">关闭</a></div>    <fieldset>	<legend>基本信息</legend>	<table class='mytable'>	<tr>	<th>WorkID-主键:</th>	<td><input class='easyui-numberbox' name='WORKID' /></td><th>	流程ID:</th>	<td><input class='easyui-numberbox' name='FID' /></td>	</tr>	<tr>	<th>流程类别:</th>	<td><input class='easyui-textbox' name='FK_FLOWSORT' /></td><th>	系统类别:</th>	<td><input class='easyui-textbox' name='SYSTYPE' /></td>	</tr>	<tr>	<th>流程:</th>	<td><input class='easyui-textbox' name='FK_FLOW' /></td><th>	流程名称:</th>	<td><input class='easyui-textbox' name='FLOWNAME' /></td>	</tr>	<tr>	<th>标题:</th>	<td><input class='easyui-textbox' name='TITLE' /></td><th>	流程状态,枚举类型:0:</th>	<td><input class='easyui-numberbox' name='WFSTA' /></td>	</tr>	<tr>	<th>流程状态,枚举类型:0:</th>	<td><input class='easyui-numberbox' name='WFSTATE' /></td><th>	发起人:</th>	<td><input class='easyui-textbox' name='STARTER' /></td>	</tr>	<tr>	<th>发起人:</th>	<td><input class='easyui-textbox' name='STARTERNAME' /></td><th>	发送人:</th>	<td><input class='easyui-textbox' name='SENDER' /></td>	</tr>	<tr>	<th>记录日期:</th>	<td><input class='easyui-textbox' name='RDT' /></td><th>	流程活动时间:</th>	<td><input class='easyui-textbox' name='SENDDT' /></td>	</tr>	<tr>	<th>节点:</th>	<td><input class='easyui-numberbox' name='FK_NODE' /></td><th>	当前节点名称:</th>	<td><input class='easyui-textbox' name='NODENAME' /></td>	</tr>	<tr>	<th>部门:</th>	<td><input class='easyui-textbox' name='FK_DEPT' /></td><th>	部门名称:</th>	<td><input class='easyui-textbox' name='DEPTNAME' /></td>	</tr>	<tr>	<th>优先级:</th>	<td><input class='easyui-numberbox' name='PRI' /></td><th>	节点应完成时间:</th>	<td><input class='easyui-textbox' name='SDTOFNODE' /></td>	</tr>	<tr>	<th>流程应完成时间:</th>	<td><input class='easyui-textbox' name='SDTOFFLOW' /></td><th>	父流程编号:</th>	<td><input class='easyui-textbox' name='PFLOWNO' /></td>	</tr>	<tr>	<th>父流程ID:</th>	<td><input class='easyui-numberbox' name='PWORKID' /></td><th>	父流程调用节点:</th>	<td><input class='easyui-numberbox' name='PNODEID' /></td>	</tr>	<tr>	<th>父流程调用的PFID:</th>	<td><input class='easyui-numberbox' name='PFID' /></td><th>	子流程的调用人:</th>	<td><input class='easyui-textbox' name='PEMP' /></td>	</tr>	<tr>	<th>客户编号:</th>	<td><input class='easyui-textbox' name='GUESTNO' /></td><th>	客户名称:</th>	<td><input class='easyui-textbox' name='GUESTNAME' /></td>	</tr>	<tr>	<th>单据编号:</th>	<td><input class='easyui-textbox' name='BILLNO' /></td><th>	备注:</th>	<td><input class='easyui-textbox' name='FLOWNOTE' /></td>	</tr>	<tr>	<th>待办人员:</th>	<td><input class='easyui-textbox' name='TODOEMPS' /></td><th>	待办人员数量:</th>	<td><input class='easyui-numberbox' name='TODOEMPSNUM' /></td>	</tr>	<tr>	<th>共享状态:</th>	<td><input class='easyui-numberbox' name='TASKSTA' /></td><th>	参数(流程运行设置临时存储的参数):</th>	<td><input class='easyui-textbox' name='ATPARA' /></td>	</tr>	<tr>	<th>参与人:</th>	<td><input class='easyui-textbox' name='EMPS' /></td><th>	GUID:</th>	<td><input class='easyui-textbox' name='GUID' /></td>	</tr>	<tr>	<th>年月:</th>	<td><input class='easyui-textbox' name='FK_NY' /></td><th>	周次:</th>	<td><input class='easyui-numberbox' name='WEEKNUM' /></td>	</tr>	<tr>	<th>时间间隔:</th>	<td><input class='easyui-numberbox' name='TSPAN' /></td><th>	待办状态:</th>	<td><input class='easyui-numberbox' name='TODOSTA' /></td>	</tr>	<tr>	<th>域/系统编号:</th>	<td><input class='easyui-textbox' name='DOMAIN' /></td><th>	个数:</th>	<td><input class='easyui-numberbox' name='MYNUM' /></td>	</tr>	<tr>	<th>业务号:</th>	<td colspan='3'><input class='easyui-textbox' name='YWH' /></td>	</tr>	</table>		</fieldset>	</form><script>    var me = this;    var myform = $('#GenerWorkflow_form');    var urlParams = commonhelper.getUrlParams();    me.formId = urlParams.id||"";    $(document).ready(function () {	    initForm();		loadForm();		    });	//初始化表单    function initForm() {      myform.form({        onLoadSuccess: function (data) {            $.messager.progress('close');        }      });	}    //加载表单    function loadForm() {		$.messager.progress();        myform.form('load', '@Url.Action("LoadForm","GenerWorkFlow")?id=' + me.formId);    }	    //保存    function save() {	    $.messager.progress();        myform.form('submit', {            url: '@Url.Action("SaveEntity","GenerWorkFlow")',            onSubmit: function () {                var isValid = myform.form('validate');                flag = isValid;                if (!isValid) {                    $.messager.progress('close');                    $.messager.alert("提示", "表单未正确填写，请检查");                }                return isValid;            },            success: function (result) {                $.messager.progress('close');                result = JSON.parse(result);                if (result.success) {                    if (me.callback) {					   me.callback(result.entity);                    }                    me.formId = result.entity.ID;					myform.form('load',{ID:me.formId});                }                $.messager.alert("提示", result.msg||"保存成功！");            }        })    }    //重置    function reset() {        if (me.formId) {            loadForm();        }        else {            myform.form('reset');        }    }    //取消    function cancel() {        me.easyWindow.window('close');    }</script>