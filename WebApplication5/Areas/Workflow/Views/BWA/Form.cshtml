@{
    Layout = "~/Views/Shared/_BaseLayout.cshtml";
}
<style>
    form {
        width: 80%;
        margin-left: auto;
        margin-right: auto;
    }

    .labelTd {
        text-align: right;
        width: 150px;
    }

    .fieldTd {
        width: 70%;
    }

    input {
        width: 300px;
    }
</style>
<form id="BWA_form" method="post">
    <table style="width: 100%">
        <tr>
            <td>
                <input type="hidden" name="ID" />
				            </td>
        </tr>
		<tr>
            <td class="labelTd">坐落：</td>
            <td class="fieldTd">
                <input class="easyui-validatebox" name="ZL" />
            </td>
        </tr>
        <tr>
            <td class="labelTd">BWLXID：</td>
            <td class="fieldTd">
                <input class="easyui-validatebox" name="BWLXID" />
            </td>
        </tr>
        <tr>
            <td class="labelTd">立案时间：</td>
            <td class="fieldTd">
                <input class="easyui-validatebox" name="REGISTERDATE" />
            </td>
        </tr>
        <tr>
            <td class="labelTd">备注：</td>
            <td class="fieldTd">
                <input class="easyui-validatebox" name="BZ" />
            </td>
        </tr>
        <tr>
            <td class="labelTd">受理编号：</td>
            <td class="fieldTd">
                <input class="easyui-validatebox" name="SLBH" />
            </td>
        </tr>
        <tr>
            <td class="labelTd">申请人：</td>
            <td class="fieldTd">
                <input class="easyui-validatebox" name="SQRID" />
            </td>
        </tr>
        <tr>
            <td class="labelTd">图件号：</td>
            <td class="fieldTd">
                <input class="easyui-validatebox" name="TJH" />
            </td>
        </tr>
        <tr>
            <td class="labelTd">计划完成时间：</td>
            <td class="fieldTd">
                <input class="easyui-validatebox" name="SHJHWCRQ" />
            </td>
        </tr>

		    </table>
</form>

<script>
    var me = this;
    var myform = $('#BWA_form');

	initForm();
    $(document).ready(function () {

        if (me.formId) {
            $.messager.progress();
            loadForm();
        }
        else if (me.defaultValues) {
            myform.form('load', me.defaultValues);
        }

        if (me.Personalize && typeof (me.Personalize) == "function") {
            Personalize();
        }
    });
	//region个性化代码
											    function initGrid() {
        var filters = me.filters || [];

        var mygridConfig = $.extend(new SJCLMX_GridConfig(mygrid), {
            queryParams: {
                filterStr: JSON.stringify(filters)
            }
        });
        mygrid.datagrid(mygridConfig);
    }
 
	//endregion

	//初始化表单
    function initForm() {
      myform.form({
        onLoadSuccess: function (data) {
            $.messager.progress('close');
        },
        buttons: [{
            iconCls: 'icon-add',
            text: '保存',
            handler: save
        }, '-', {
            iconCls: 'icon-edit',
            text: '重置',
            handler: reset
        }, '-', {
            iconCls: 'icon-remove',
            text: '取消',
            handler: cancel
        }]
      });
	}

    //加载表单
    function loadForm() {
        myform.form('load', '@Url.Action("LoadForm","BWA")/' + me.formId);
    }

    //保存
    function save() {
        myform.form('submit', {
            url: '@Url.Action("Save","BWA")',
            success: function (result) {
                if (result.success) {
                    if (me.parentGrid) {
                        me.parentGrid.datagrid('reload');
                    }
					me.easyWindow.window('close');
                }
            }
        })
    }
    //重置
    function reset() {
        if (me.formId) {
            loadForm();
            return;
        }
        myform.form('reset');
        if (me.defaultValues) {
            myform.form('load', me.defaultValues);
        }
    }
    //取消
    function cancel() {
        me.easyWindow.window('close');
    }
</script>

